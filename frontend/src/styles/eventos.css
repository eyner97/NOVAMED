/* src/styles/eventos.css */

:root{
  --brand-blue:#0C2D92;
  --brand-bg:#2B5EAF;
  --green:#2ecc71;
  --pink:#F50087;
  --text:#0b1b2b;
  --card-blue:#4b68d1;
  --radius:16px;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--brand-bg) !important; /* Asegura el uso de la variable */
  color:#fff;
}

/* Root */
.ev-root{
  height:100dvh;
  display:flex;
  flex-direction:column;
  padding:18px;
  overflow:hidden;
  background:var(--brand-bg) !important; /* Fondo azul en toda la ventana eventos */
}

/* Header */
.ev-header{
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  background:var(--brand-blue);
  color:#fff;
  padding:6px 16px;
  gap:12px;
  border-radius:18px;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  min-height:44px;      /* Nuevo: reduce el alto mínimo */
  font-size: 1rem;
}
.ev-iconbtn{display:inline-grid;place-items:center;width:40px;height:40px;background:transparent;border:none;cursor:pointer}
.ev-ico{width:22px;height:22px;fill:#fff}
.ev-header-right{display:flex;align-items:center;gap:10px}

.ev-brand{display:flex;align-items:center;justify-content:center;gap:2px;font-weight:700;letter-spacing:.5px;font-size:28px}
.ev-brand-N{font-size:30px}
.ev-brand-hole{display:inline-block;width:.65em;height:1em;margin:0 .05em;background:transparent;border-radius:2px;}
.ev-brand-va{margin-left:2px}
.ev-brand-Med{margin-left:4px}

.ev-bell{position:relative;display:grid;place-items:center;width:40px;height:40px}
.ev-badge{position:absolute;top:-4px;right:-6px;background:#ff3860;color:#fff;font-size:11px;font-weight:700;width:18px;height:18px;display:grid;place-items:center;border-radius:999px}

/* Hero */
.ev-hero{display:flex;align-items:flex-end;justify-content:space-between;padding:16px 10px 12px}
.ev-title{margin:0;font-size:36px;line-height:1.05}
.ev-submini{margin:6px 0 0;opacity:.92;font-size:14px} /* NUEVO subtítulo pequeño */
.ev-sub{margin:2px 0 0;opacity:.85;font-size:13px}

/* Buscador */
.ev-search{
  display:flex;gap:8px;align-items:center;
  background:#1b3560;padding:8px 10px;border-radius:28px;
  box-shadow:inset 0 6px 14px rgba(0,0,0,.15);
}
.ev-search input{
  border:none;outline:none;width:360px;max-width:56vw;background:transparent;color:#dfe8ff;font-size:14px;
}
.ev-search input::placeholder{color:#a7b9e6}
.ev-search-btn{
  width:40px;height:40px;border:none;border-radius:999px;cursor:pointer;
  display:grid;place-items:center;background:#2a4d97;color:#eaf1ff;
  transition:transform .15s ease, background .2s ease, box-shadow .2s ease;
}
.ev-search-btn:hover{transform:translateY(-1px);background:#3a5fb0;box-shadow:0 6px 12px rgba(0,0,0,.25)}

/* Main layout */
.ev-main{
  flex:1;
  display:grid;gap:18px;
  grid-template-columns: 1.05fr .95fr;
  padding:6px;
  min-height:0;
}

/* Left column */
.ev-left{
  background:#fff;color:var(--text);
  border-radius:18px;padding:14px 14px 10px;
  display:grid;grid-template-rows:auto auto 1fr;gap:8px;
  min-height:0;
}

/* Month bar with nav */
.ev-monthbar{
  display:grid;grid-template-columns:auto 1fr auto;align-items:center;
  gap:8px;background:#e8efff;color:#2d4fa8;border-radius:12px;padding:6px 8px;font-weight:700;
}
.ev-monthlabel{justify-self:center;text-transform:capitalize}
.ev-monthbtn{
  width:34px;height:34px;border:none;border-radius:10px;background:#d7e4ff;color:#204899;
  display:grid;place-items:center;font-size:20px;cursor:pointer;
  transition:transform .15s ease, background .2s ease, box-shadow .2s ease;
}
.ev-monthbtn:hover{transform:translateY(-1px);background:#c6d7ff;box-shadow:0 6px 12px rgba(43,93,189,.25)}
.ev-monthbtn:active{transform:scale(.96)}

/* Week header (D L M M J V S) */
.ev-weekhead{
  display:grid;grid-template-columns:repeat(7,1fr);
  background:#2b5dbd;color:#fff;border-radius:14px 14px 6px 6px;padding:10px 8px;font-weight:700;letter-spacing:.5px
}
.ev-weekhead-cell{display:flex;align-items:center;justify-content:center}

/* Calendar area */
.ev-calendar{min-height:0;height:100%}

/* FullCalendar sizing to fit full month */
.fc{
  --fc-border-color:#e8eef7;
  --fc-page-bg-color:#fff;
  --fc-today-bg-color:#e5f6ff;
}
.fc, .fc .fc-view-harness, .fc .fc-view-harness-active, .fc .fc-scrollgrid{
  height:100% !important;
}
.fc .fc-scrollgrid{border-top:none}
.fc .fc-col-header, .fc .fc-col-header-cell{display:none !important}
.fc .fc-daygrid-body, .fc .fc-daygrid-body-unbalanced{height:100% !important}
.fc .fc-daygrid-day{padding:6px 4px}
.fc .fc-daygrid-day-number{color:#355;font-weight:600}
.fc .fc-day-today{background:transparent}
.ev-today .fc-daygrid-day-number{background:#cfe3ff;color:#1e3d8f;border-radius:8px;padding:2px 6px}

/* FILTERS OUTSIDE (debajo del calendario y del panel izquierdo) */
.ev-filters-out{
  display:flex;gap:10px;justify-content:center;flex-wrap:wrap;
  margin-top:10px;
}
.ev-pill{
  border:none;border-radius:999px;padding:10px 16px;cursor:pointer;
  background:#eef3ff;color:#214893;font-weight:700;transition:all .2s ease;
}
.ev-pill:hover{filter:brightness(.96);transform:translateY(-1px)}
.ev-pill:active{transform:scale(.98)}
.ev-pill.active{background:#214893;color:#fff}

/* Right column (cards) */
.ev-right{
  background:#fff;color:var(--text);
  border-radius:18px;padding:14px;
  display:grid;grid-template-rows:auto 1fr auto;gap:10px;
  min-height:0;
}
.ev-right-title{margin:0 6px 6px;color:#2b5dbd}

.ev-cards{
  display:grid;gap:12px;grid-auto-rows:1fr;min-height:0;overflow:hidden;
  grid-template-rows: repeat(3, minmax(fit-content, 1fr));
}

/* Cards — autoajuste de texto sin romper el alto */
.ev-card{
  display:grid;grid-template-columns:auto 1fr auto;gap:12px;
  background:#f7f9ff;border-radius:16px;padding:12px;border-left:8px solid var(--card-blue);
  box-shadow:0 10px 18px rgba(30,55,120,.06);min-height:0;overflow:hidden;
  font-size: 1rem;
}
.ev-card-iconwrap{
  width:44px;height:44px;border-radius:14px;display:grid;place-items:center;align-self:start;
  background:#e6efff;border:1.5px dashed #b8c9f3;
}
.ev-card-icon{width:22px;height:22px;fill:#214893}

.ev-card-body{display:grid;grid-template-rows:auto auto 1fr;gap:6px;min-width:0}
.ev-card-title{margin:0;color:#214893;font-size:clamp(13px,2vw,16px);line-height:1.1;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}
.ev-card-desc{
  margin:0;color:#385577;font-size:clamp(11px,1.5vw,13px);
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
}
.ev-meta{font-size:12.5px;color:#2a4466;display:grid;gap:2px;align-content:start}
.ev-meta-row{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ev-place{margin-top:6px;padding:6px 8px;background:#e9f4ff;border-radius:10px;color:#224a7a;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.ev-plus{
  align-self:start;width:40px;height:40px;border:none;border-radius:999px;cursor:pointer;
  background:#214893;color:#fff;font-size:22px;line-height:0;display:grid;place-items:center;
  transition:transform .15s ease, background .2s ease, box-shadow .2s ease;
}
.ev-plus:hover{transform:translateY(-1px);background:#2b5dbd;box-shadow:0 6px 14px rgba(43,93,189,.35)}

/* Cards nav */
.ev-card-nav{display:flex;justify-content:flex-end;gap:10px}
.ev-navbtn{
  width:44px;height:40px;border-radius:12px;border:none;cursor:pointer;background:#dfe8ff;color:#214893;font-size:18px;font-weight:700;
  transition:all .2s ease;
}
.ev-navbtn:hover:not(:disabled){transform:translateY(-1px);background:#cfe0ff}
.ev-navbtn:disabled{opacity:.45;cursor:not-allowed}

/* Animación sutil */
.ev-in{animation:evFadeIn .24s ease both}
@keyframes evFadeIn{
  from{opacity:0;transform:translateY(6px) scale(.985)}
  to{opacity:1;transform:translateY(0) scale(1)}
}

/* Altura */
@media (max-height: 900px){
  .ev-root{padding:14px}
  .ev-title{font-size:32px}
  .ev-search input{width:320px}
  .ev-card{padding:10px}
}
@media (max-height: 780px){
  .ev-hero{padding:12px 8px}
  .ev-title{font-size:28px}
  .ev-sub{display:none}
  .ev-search{transform:scale(.95);transform-origin:right bottom}
  .ev-card-title{font-size:15px}
}
@media (max-height: 700px){
  .ev-header{padding:8px 12px}
  .ev-brand{font-size:24px}
  .ev-brand-N{font-size:26px}
  .ev-left,.ev-right{padding:12px}
}

/* Responsive ancho (PWA Android sin solapes) */
@media (max-width: 1024px){
  .ev-root{overflow:auto}
  .ev-main{grid-template-columns:1fr}
  .ev-right{min-height:480px}
  .ev-hero{flex-direction:column;align-items:flex-start;gap:8px}
  .ev-search input{width:62vw}
}

@media (max-width: 600px){
  .ev-title{font-size:28px}
  .ev-search{width:100%}
  .ev-search input{width:100%}
  .ev-card{
    grid-template-columns:1fr auto;
    font-size: 0.97rem;
    padding: 8px 6px;
  }
  .ev-card-title { font-size: 13px; }
  .ev-card-desc { font-size: 11px; }
  .ev-meta, .ev-meta-row, .ev-place { font-size: 10px; }
  .ev-filters-out {
    order: 2;
    margin-top: 16px;
    margin-bottom: 0;
    position: static;
    width: 100%;
    justify-content: flex-start;
  }
  .ev-right {
    order: 1;
  }
}

/* eventos.css */
.ev-calendar-modal {
  position: fixed; inset: 0; z-index: 9999;
  display: flex; align-items: center; justify-content: center;
}
.ev-calendar-modal-bg {
  position: absolute; inset: 0; background: rgba(0,0,0,0.45);
}
.ev-calendar-modal-content {
  position: relative;
  background: #fff;
  border-radius: 18px;
  padding: 18px 8px 8px 8px;
  width: 100vw;
  max-width: 100vw;
  min-width: 0;
  height: 90vh;
  max-height: 98vh;
  overflow: auto;
  padding: 8px 2vw 8px 2vw;
  box-shadow: 0 8px 32px rgba(0,0,0,0.18);
}
.ev-calendar-close {
  position: absolute; top: 8px; right: 12px;
  background: #214893; color: #fff; border: none; border-radius: 8px;
  padding: 6px 14px; font-size: 15px; cursor: pointer;
}
@media (max-width: 600px) {
  .ev-main { grid-template-columns: 1fr !important; }
  .ev-left { display: none !important; }
  .ev-calendar-modal-content {
    width: 100vw;
    max-width: 100vw;
    height: 90vh;
    max-height: 98vh;
    padding: 8px 2vw 8px 2vw;
  }
}

.ev-calendar,
.fc,
.fc .fc-view-harness,
.fc .fc-view-harness-active,
.fc .fc-scrollgrid {
  height: 180px !important; /* Ajusta este valor según tu layout real */
  min-height: 0 !important;
  overflow: visible !important;
}
.fc .fc-daygrid-body,
.fc .fc-daygrid-body-unbalanced {
  height: 80px !important; /* Ajusta para que quepan todas las semanas */
}
.fc .fc-daygrid-day {
  padding: 0px 40px; /* Reduce padding interno */
  min-height: 0;
}
.fc .fc-daygrid-day-number {
  font-size: 12px;
  padding: 0 0px;
}

/* Ajusta el tamaño de la N y vaMed en el logo */
.hm-logo-n,
.hm-logo-rest {
  font-size: 28px;
  font-weight: 700;
  letter-spacing: .5px;
  color: #fff;
  /* Puedes ajustar el tamaño aquí si quieres más pequeño o grande */
}

/* Opcional: elimina reglas previas que cambien el tamaño solo de la N */
.ev-brand-N { font-size: 28px; }

.ev-marked {
  background: #ffdddd !important;
  border: 2px solid #e53935 !important;
}
